package core

import (
	"testing"
)

func TestRound(t *testing.T) {
	cases := []struct {
		x        float64
		n        int
		expected float64
	}{
		{0, 0, 0},
		{.1, 0, 0},
		{.49, 0, 0},
		{.5, 0, 1},
		{.51, 0, 1},
		{.9, 0, 1},
		{1, 0, 1},

		{.620, 2, .62},
		{.621, 2, .62},
		{.624, 2, .62},
		{.625, 2, .63},
		{.626, 2, .63},
		{.629, 2, .63},
		{.630, 2, .63},

		{-.1, 0, 0},
		{-.49, 0, 0},
		{-.5, 0, -1},
		{-.51, 0, -1},
		{-.9, 0, -1},
		{-1, 0, -1},

		{-.620, 2, -.62},
		{-.621, 2, -.62},
		{-.624, 2, -.62},
		{-.625, 2, -.63},
		{-.626, 2, -.63},
		{-.629, 2, -.63},
		{-.630, 2, -.63},
	}
	for _, c := range cases {
		actual := Round(c.x, c.n)
		if c.expected != actual {
			t.Errorf("Round(%f, %d) = %f != %f", c.x, c.n, actual, c.expected)
		}
	}
}
